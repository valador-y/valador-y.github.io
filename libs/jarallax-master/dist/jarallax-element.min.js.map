{"version":3,"sources":["jarallax-element.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","win","window","self","Promise","resolve","document","readyState","addEventListener","capture","once","passive","g","_typeof","Symbol","iterator","obj","constructor","this","Function","eval","e","_domLoaded2","_interopRequireDefault","default","then","jarallax","querySelectorAll","value","arguments","length","undefined","_global2","Jarallax","forEach","key","def","args","$item","getAttribute","options","type","pureOptions","speed","apply","threshold","speedArr","split","speedY","parseFloat","speedX","thresholdArr","thresholdY","thresholdX","onResize","onScroll","addToParallaxList","defTransform","css","transform","rect","getBoundingClientRect","itemData","width","height","y","top","getWindowData","x","left","wnd","centerPercent","moveY","moveX","my","mx","_global"],"mappings":"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","file":"jarallax-element.min.js","sourcesContent":["/*!\n * Name    : Elements Extension for Jarallax\n * Version : 1.0.0\n * Author  : nK <https://nkdev.info>\n * GitHub  : https://github.com/nk-o/jarallax\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\") {\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = new Promise(function (resolve) {\n\tif (document.readyState === 'interactive' || document.readyState === 'complete') {\n\t\tresolve();\n\t} else {\n\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\tresolve();\n\t\t}, {\n\t\t\tcapture: true,\n\t\t\tonce: true,\n\t\t\tpassive: true\n\t\t});\n\t}\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar g;\n\n// This works in non-strict mode\ng = function () {\n\treturn this;\n}();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(5);\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _domLoaded = __webpack_require__(1);\n\nvar _domLoaded2 = _interopRequireDefault(_domLoaded);\n\nvar _jarallaxElement = __webpack_require__(6);\n\nvar _jarallaxElement2 = _interopRequireDefault(_jarallaxElement);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _jarallaxElement2.default)();\n\n// data-jarallax-element initialization\n_domLoaded2.default.then(function () {\n    if (typeof jarallax !== 'undefined') {\n        jarallax(document.querySelectorAll('[data-jarallax-element]'));\n    }\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = jarallaxElement;\n\nvar _global = __webpack_require__(0);\n\nvar _global2 = _interopRequireDefault(_global);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction jarallaxElement() {\n    var jarallax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _global2.default.jarallax;\n\n    if (typeof jarallax === 'undefined') {\n        return;\n    }\n\n    var Jarallax = jarallax.constructor;\n\n    // redefine default methods\n    ['initImg', 'canInitParallax', 'init', 'destroy', 'clipContainer', 'coverImage', 'isVisible', 'onScroll', 'onResize'].forEach(function (key) {\n        var def = Jarallax.prototype[key];\n        Jarallax.prototype[key] = function () {\n            var self = this;\n            var args = arguments || [];\n\n            if (key === 'initImg' && self.$item.getAttribute('data-jarallax-element') !== null) {\n                self.options.type = 'element';\n                self.pureOptions.speed = self.$item.getAttribute('data-jarallax-element') || self.pureOptions.speed;\n            }\n            if (self.options.type !== 'element') {\n                return def.apply(self, args);\n            }\n\n            self.pureOptions.threshold = self.$item.getAttribute('data-threshold') || '';\n\n            switch (key) {\n                case 'init':\n                    var speedArr = self.pureOptions.speed.split(' ');\n                    self.options.speed = self.pureOptions.speed || 0;\n                    self.options.speedY = speedArr[0] ? parseFloat(speedArr[0]) : 0;\n                    self.options.speedX = speedArr[1] ? parseFloat(speedArr[1]) : 0;\n\n                    var thresholdArr = self.pureOptions.threshold.split(' ');\n                    self.options.thresholdY = thresholdArr[0] ? parseFloat(thresholdArr[0]) : null;\n                    self.options.thresholdX = thresholdArr[1] ? parseFloat(thresholdArr[1]) : null;\n\n                    self.onResize();\n                    self.onScroll();\n                    self.addToParallaxList();\n                    break;\n                case 'onResize':\n                    var defTransform = self.css(self.$item, 'transform');\n                    self.css(self.$item, { transform: '' });\n                    var rect = self.$item.getBoundingClientRect();\n                    self.itemData = {\n                        width: rect.width,\n                        height: rect.height,\n                        y: rect.top + self.getWindowData().y,\n                        x: rect.left\n                    };\n                    self.css(self.$item, { transform: defTransform });\n                    break;\n                case 'onScroll':\n                    var wnd = self.getWindowData();\n                    var centerPercent = (wnd.y + wnd.height / 2 - self.itemData.y - self.itemData.height / 2) / (wnd.height / 2);\n                    var moveY = centerPercent * self.options.speedY;\n                    var moveX = centerPercent * self.options.speedX;\n                    var my = moveY;\n                    var mx = moveX;\n                    if (self.options.thresholdY !== null && moveY > self.options.thresholdY) my = 0;\n                    if (self.options.thresholdX !== null && moveX > self.options.thresholdX) mx = 0;\n                    self.css(self.$item, { transform: 'translate3d(' + mx + 'px,' + my + 'px,0)' });\n                    break;\n                case 'initImg':\n                case 'isVisible':\n                case 'clipContainer':\n                case 'coverImage':\n                    return true;\n                // no default\n            }\n            return def.apply(self, args);\n        };\n    });\n} /* eslint no-case-declarations: \"off\" */\n\n/***/ })\n/******/ ]);"]}